CONTRACT_TYPE {
	name = SoundingBio
	group = HistoricalSoundingScience
    sortKey = 993
	
	// ************************ REQUIREMENTS ************************
	REQUIREMENT {
		name = CompleteContract
		type = CompleteContract
		contractType = SoundingKarman
		title = Complete @contractType Contract
	}
	
	// ************************ INFORMATION ************************
	title = Launch Campaign: Low Space Biological Experimentation
	description = Launching small mammals will prepare us for the monumental task of putting an astronaut into space. Carry a small biological capsule and @payload units of monitoring gear and instrumentation into low space, then recover the experiment. You will need to stay above @altitude km and complete the required observations before jettisoning the payload, if desired.
	genericDescription = Put a biological experiment and a scientific communications payload above @altitude km for sixty seconds and recover the experiment and payload safely.
	synopsis = Launch and recover a biological capsule and @payload units of scientific communications equipment from over @altitude km. You do not need to recover the payload, but DO NOT jettison it until after the experiment is complete!
	completedMessage = Well done! Our scientists are collating data and studying the samples to understand the effects of the journey.

	minExpiry = 0
	maxExpiry = 0
	maxCompletions = 1
	maxSimultaneous = 1
	deadline = 730	
	
	targetBody = HomeWorld()
	
	prestige = Trivial
	genericAdvance = 30
			
	// ************************ DATA ************************
	DATA {
		type = float
		payload = 10
		scienceReward = 2
		altitude = 100
	}
	
	// ************************ PARAMETERS ************************	
	PARAMETER {
		name = MissionParameters
		type = VesselParameterGroup		
		title = @/synopsis

		PARAMETER {
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
			hideChildren = true
		}		
		PARAMETER {
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			title = Uncrewed
			hideChildren = true
		}
		PARAMETER {
			name = PayloadMissionParameters
			type = VesselParameterGroup		
			title = Reach @/altitude km with the payload and run experiment for 60 seconds
			duration = 1m
			PARAMETER {
				name = SpaceAltitude
				type = ReachState
				minAltitude = @/altitude * 1000
				disableOnStateChange = true
				title = Reach an altitude of at least @/altitude km
			}
			PARAMETER {
				name = HasCommPayload
				type = HasResource
				resource = CommPayload
				minQuantity = @/payload-0.1
				title = Have a CommPayload of at least @/payload units on the craft
				hideChildren = true
				completeInSequence = true
				disableOnStateChange = true
			}
			PARAMETER {
				name = ExperimentRunning
				type = ExperimentRunning
				title = Run a small biological experiment (above @/altitude km)
				experiment = RP0bioScan1
				completeInSequence = true
				disableOnStateChange = true
			}
		}
		PARAMETER {
			name = HasBiologicalSample
			type = PartValidation
			title = Recover the biological experiment safely
			hideChildren = true
			FILTER {
				MODULE {
					name = Experiment
					experiment_id = RP0bioScan1
				}
			}
			disableOnStateChange = true
			completeInSequence = true
		}
		PARAMETER {
			name = ReturnHome
			type = ReturnHome
			targetBody = HomeWorld()
			title = Return home safely
			hideChildren = true
			completeInSequence = true
		}
	}
	PARAMETER
	{
		name = All
		type = All
		title = Launch four successful rockets

		PARAMETER {
			name = MissionParameters
			type = VesselParameterGroup		
			title = First completion

			rewardScience = @/scienceReward
			
			define = BioSoundingRocket1
			disableOnStateChange = true
			hideChildren = true
		
			PARAMETER {
				name = IsNotVessel1
				type = IsNotVessel
				vessel = BioSoundingRocket2
			}		
			PARAMETER {
				name = IsNotVessel2
				type = IsNotVessel
				vessel = BioSoundingRocket3
			}		
			PARAMETER {
				name = IsNotVessel3
				type = IsNotVessel
				vessel = BioSoundingRocket4
			}
			PARAMETER {
				name = NewVessel
				type = NewVessel
				hideChildren = true
			}		
			PARAMETER {
				name = Crewmembers
				type = HasCrew
				minCrew = 0
				maxCrew = 0
				hideChildren = true
			}
			PARAMETER {
				name = PayloadMissionParameters
				type = VesselParameterGroup		
				title = Reach @/altitude km with the payload and run experiment for 60 seconds
				duration = 1m
				hideChildren = true
				PARAMETER {
					name = SpaceAltitude
					type = ReachState
					minAltitude = @/altitude * 1000
					hideChildren = true
					disableOnStateChange = true
					title = Reach an altitude of at least @/altitude km
				}
				PARAMETER {
					name = HasCommPayload
					type = HasResource
					resource = CommPayload
					minQuantity = @/payload-0.1
					title = Have a CommPayload of at least @/payload units on the craft
					hideChildren = true
					completeInSequence = true
					disableOnStateChange = true
				}
				PARAMETER {
					name = ExperimentRunning
					type = ExperimentRunning
					title = Run a small biological experiment (above @/altitude km)
					experiment = RP0bioScan1
					completeInSequence = true
					hideChildren = true
				}
			}
			/// Disabled due to display issues - forcing the experiment means that you do not get science if you do not recover anyway
			///PARAMETER {
			///	name = HasBiologicalSample
			///	type = PartValidation
			///	hidden = true
			///	hideChildren = true
			///	FILTER {
			///		MODULE {
			///			name = Experiment
			///			experiment_id = RP0bioScan1
			///		}
			///	}
			///	completeInSequence = true
			///	disableOnStateChange = true
			///}
			PARAMETER {
				name = ReturnHome
				type = ReturnHome
				targetBody = HomeWorld()
				title = Return home safely
				hideChildren = true
				completeInSequence = true
			}
		}

		PARAMETER {
			name = MissionParameters
			type = VesselParameterGroup		
			title = Second completion

			rewardScience = @/scienceReward
			
			define = BioSoundingRocket2
			disableOnStateChange = true
			hideChildren = true
			completeInSequence = true
		
			PARAMETER {
				name = IsNotVessel1
				type = IsNotVessel
				vessel = BioSoundingRocket1
			}		
			PARAMETER {
				name = IsNotVessel2
				type = IsNotVessel
				vessel = BioSoundingRocket3
			}		
			PARAMETER {
				name = IsNotVessel3
				type = IsNotVessel
				vessel = BioSoundingRocket4
			}
			PARAMETER {
				name = NewVessel
				type = NewVessel
				hideChildren = true
			}		
			PARAMETER {
				name = Crewmembers
				type = HasCrew
				minCrew = 0
				maxCrew = 0
				hideChildren = true
			}
			PARAMETER {
				name = PayloadMissionParameters
				type = VesselParameterGroup		
				title = Reach @/altitude km with the payload and run experiment for 60 seconds
				duration = 1m
				hideChildren = true
				PARAMETER {
					name = SpaceAltitude
					type = ReachState
					minAltitude = @/altitude * 1000
					hideChildren = true
					disableOnStateChange = true
					title = Reach an altitude of at least @/altitude km
				}
				PARAMETER {
					name = HasCommPayload
					type = HasResource
					resource = CommPayload
					minQuantity = @/payload-0.1
					title = Have a CommPayload of at least @/payload units on the craft
					hideChildren = true
					completeInSequence = true
					disableOnStateChange = true
				}
				PARAMETER {
					name = ExperimentRunning
					type = ExperimentRunning
					title = Run a small biological experiment (above @/altitude km)
					experiment = RP0bioScan1
					completeInSequence = true
					hideChildren = true
				}
			}
			/// Disabled due to display issues - forcing the experiment means that you do not get science if you do not recover anyway
			///PARAMETER {
			///	name = HasBiologicalSample
			///	type = PartValidation
			///	hidden = true
			///	hideChildren = true
			///	FILTER {
			///		MODULE {
			///			name = Experiment
			///			experiment_id = RP0bioScan1
			///		}
			///	}
			///	completeInSequence = true
			///	disableOnStateChange = true
			///}
			PARAMETER {
				name = ReturnHome
				type = ReturnHome
				targetBody = HomeWorld()
				title = Return home safely
				hideChildren = true
				completeInSequence = true
			}
		}

		PARAMETER {
			name = MissionParameters
			type = VesselParameterGroup		
			title = Third completion

			rewardScience = @/scienceReward
			
			define = BioSoundingRocket3
			disableOnStateChange = true
			hideChildren = true
			completeInSequence = true
		
			PARAMETER {
				name = IsNotVessel1
				type = IsNotVessel
				vessel = BioSoundingRocket1
			}		
			PARAMETER {
				name = IsNotVessel2
				type = IsNotVessel
				vessel = BioSoundingRocket2
			}		
			PARAMETER {
				name = IsNotVessel3
				type = IsNotVessel
				vessel = BioSoundingRocket4
			}
			PARAMETER {
				name = NewVessel
				type = NewVessel
				hideChildren = true
			}		
			PARAMETER {
				name = Crewmembers
				type = HasCrew
				minCrew = 0
				maxCrew = 0
				hideChildren = true
			}
			PARAMETER {
				name = PayloadMissionParameters
				type = VesselParameterGroup		
				title = Reach @/altitude km with the payload and run experiment for 60 seconds
				duration = 1m
				hideChildren = true
				PARAMETER {
					name = SpaceAltitude
					type = ReachState
					minAltitude = @/altitude * 1000
					hideChildren = true
					disableOnStateChange = true
					title = Reach an altitude of at least @/altitude km
				}
				PARAMETER {
					name = HasCommPayload
					type = HasResource
					resource = CommPayload
					minQuantity = @/payload-0.1
					title = Have a CommPayload of at least @/payload units on the craft
					hideChildren = true
					completeInSequence = true
					disableOnStateChange = true
				}
				PARAMETER {
					name = ExperimentRunning
					type = ExperimentRunning
					title = Run a small biological experiment (above @/altitude km)
					experiment = RP0bioScan1
					completeInSequence = true
					hideChildren = true
				}
			}
			/// Disabled due to display issues - forcing the experiment means that you do not get science if you do not recover anyway
			///PARAMETER {
			///	name = HasBiologicalSample
			///	type = PartValidation
			///	hidden = true
			///	hideChildren = true
			///	FILTER {
			///		MODULE {
			///			name = Experiment
			///			experiment_id = RP0bioScan1
			///		}
			///	}
			///	completeInSequence = true
			///	disableOnStateChange = true
			///}
			PARAMETER {
				name = ReturnHome
				type = ReturnHome
				targetBody = HomeWorld()
				title = Return home safely
				hideChildren = true
				completeInSequence = true
			}
		}

		PARAMETER {
			name = MissionParameters
			type = VesselParameterGroup		
			title = Fourth completion

			rewardScience = @/scienceReward
			
			define = BioSoundingRocket4
			disableOnStateChange = true
			hideChildren = true
			completeInSequence = true
		
			PARAMETER {
				name = IsNotVessel1
				type = IsNotVessel
				vessel = BioSoundingRocket1
			}		
			PARAMETER {
				name = IsNotVessel2
				type = IsNotVessel
				vessel = BioSoundingRocket2
			}		
			PARAMETER {
				name = IsNotVessel3
				type = IsNotVessel
				vessel = BioSoundingRocket3
			}
			PARAMETER {
				name = NewVessel
				type = NewVessel
				title = Launch a New Vessel
				hideChildren = true
			}		
			PARAMETER {
				name = Crewmembers
				type = HasCrew
				minCrew = 0
				maxCrew = 0
				title = Uncrewed
				hideChildren = true
			}
			PARAMETER {
				name = PayloadMissionParameters
				type = VesselParameterGroup		
				title = Reach @/altitude km with the payload and run experiment for 60 seconds
				duration = 1m
				hideChildren = true
				PARAMETER {
					name = SpaceAltitude
					type = ReachState
					minAltitude = @/altitude * 1000
					hideChildren = true
					disableOnStateChange = true
					title = Reach an altitude of at least @/altitude km
				}
				PARAMETER {
					name = HasCommPayload
					type = HasResource
					resource = CommPayload
					minQuantity = @/payload-0.1
					title = Have a CommPayload of at least @/payload units on the craft
					hideChildren = true
					completeInSequence = true
					disableOnStateChange = true
				}
				PARAMETER {
					name = ExperimentRunning
					type = ExperimentRunning
					title = Run a small biological experiment (above @/altitude km)
					experiment = RP0bioScan1
					completeInSequence = true
					hideChildren = true
				}
			}
			/// Disabled due to display issues - forcing the experiment means that you do not get science if you do not recover anyway
			///PARAMETER {
			///	name = HasBiologicalSample
			///	type = PartValidation
			///	hidden = true
			///	hideChildren = true
			///	FILTER {
			///		MODULE {
			///			name = Experiment
			///			experiment_id = RP0bioScan1
			///		}
			///	}
			///	completeInSequence = true
			///	disableOnStateChange = true
			///}
			PARAMETER {
				name = ReturnHome
				type = ReturnHome
				targetBody = HomeWorld()
				title = Return home safely
				hideChildren = true
				completeInSequence = true
			}
		}
	}
}
	